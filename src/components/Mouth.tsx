import { TFace } from "kalidokit";
import { Component } from "solid-js";

const Mouth: Component<{ mouthShape: TFace["mouth"]["shape"] }> = (props) => {
  const svg = {
    default: (
      <>
        <path
          d="M213.5 312C209.5 314 205 319 206.5 320C208 321 209.177 315.412 214 313C220 310 232 313.5 232 311C232 309 218.104 309.698 213.5 312Z"
          fill="#661133"
        />
        <mask
          id="mouth_mask0_0_1"
          style="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="206"
          y="309"
          width="26"
          height="12"
        >
          <path
            d="M213.5 312C209.5 314 205 319 206.5 320C208 321 209.177 315.412 214 313C220 310 232 313.5 232 311C232 309 218.104 309.698 213.5 312Z"
            fill="#661133"
          />
        </mask>
        <g mask="url(#mouth_mask0_0_1)">
          <path
            d="M216.734 315.6C211.478 318.055 210.481 321.666 211 324C212 328.5 219.5 329.5 226 326.5C231.076 324.157 233.6 319.5 231.5 316C230.414 314.191 223.424 312.475 216.734 315.6Z"
            fill="#DD4466"
          />
        </g>
      </>
    ),
    A: (
      <>
        <path
          d="M212.5 310C207 312.567 204.637 316.418 205.5 318C208.5 323.5 215.5 325 223 322C229 319.6 233 314 231 309C230.257 307.143 220 306.5 212.5 310Z"
          fill="#661133"
        />
        <mask
          id="mouth_mask0_0_1"
          style="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="205"
          y="307"
          width="27"
          height="17"
        >
          <path
            d="M212.5 310C207 312.567 204.637 316.418 205.5 318C208.5 323.5 215.5 325 223 322C229 319.6 233 314 231 309C230.257 307.143 220 306.5 212.5 310Z"
            fill="#661133"
          />
        </mask>
        <g mask="url(#mouth_mask0_0_1)">
          <path
            d="M214.734 310.6C209.478 313.055 208.481 316.666 209 319C210 323.5 217.5 324.5 224 321.5C229.076 319.157 231.6 313.5 229.5 310C228.414 308.191 221.424 307.475 214.734 310.6Z"
            fill="#DD4466"
          />
        </g>
      </>
    ),
    I: (
      <>
        <path
          d="M214 313C208.296 315.074 202.345 315.818 203 318C204.5 323 213.903 320.251 217.5 319C229 315 236 310.5 234 307C232.425 304.244 225 309 214 313Z"
          fill="#661133"
        />
        <path
          d="M214 313.5C208.271 315.505 203.447 315.79 204 318C205 322 214.427 319.816 218 318.5C227.5 315 233.5 311.5 231.5 308C230.223 305.764 224 310 214 313.5Z"
          fill="white"
        />
      </>
    ),
    U: (
      <>
        <path
          d="M213.5 311C210.814 312.5 211.122 317.143 213.242 319.349C216.211 322.438 219.354 321.442 221.5 320C223.646 318.558 224.281 316.231 223.242 313.849C222 311 217 309.045 213.5 311Z"
          fill="#661133"
        />
        <mask
          id="mouth_mask0_0_1"
          style="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="211"
          y="310"
          width="13"
          height="12"
        >
          <path
            d="M213.5 311C210.814 312.5 211.122 317.143 213.243 319.349C216.211 322.438 219.354 321.442 221.5 320C223.646 318.558 224.281 316.231 223.243 313.849C222 311 217 309.045 213.5 311Z"
            fill="#661133"
          />
        </mask>
        <g mask="url(#mouth_mask0_0_1)">
          <path
            d="M215.5 312C213.5 313 212.5 316 214 319C215.209 321.419 219 321.344 221 320C223 318.656 223.941 316.162 222.5 314C221.5 312.5 218.061 310.719 215.5 312Z"
            fill="#DD4466"
          />
        </g>
      </>
    ),
    E: (
      <>
        <mask
          id="mouth_mask0_0_1"
          style="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="204"
          y="307"
          width="29"
          height="16"
        >
          <path
            d="M213 312C207.515 314.598 204.057 316.926 205 319C207.5 324.5 213.5 323.5 221.5 320.5C228.083 318.032 234 314 232 309C231.087 306.717 222.5 307.5 213 312Z"
            fill="#661133"
          />
        </mask>
        <g mask="url(#mouth_mask0_0_1)">
          <path
            d="M215 312.5C210 315 209.5 317.66 209.5 318.5C209.5 322 213.5 323.5 221.5 320.5C228.083 318.031 233.183 313.578 230.5 310C229 308 222.642 308.679 215 312.5Z"
            fill="#DD4466"
          />
        </g>
      </>
    ),
    O: (
      <>
        <path
          d="M212.5 310C208 312.1 209.5 318.5 212 321C215.5 324.5 218.625 324.5 223 322C226.5 320 226.599 317.248 225.5 314.5C224.757 312.643 219.5 306.733 212.5 310Z"
          fill="#661133"
        />
        <mask
          id="mouth_mask0_0_1"
          style="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="209"
          y="309"
          width="18"
          height="15"
        >
          <path
            d="M212.5 310C208 312.1 209.5 318.5 212 321C215.5 324.5 218.625 324.5 223 322C226.5 320 226.599 317.248 225.5 314.5C224.757 312.643 219.5 306.733 212.5 310Z"
            fill="#661133"
          />
        </mask>
        <g mask="url(#mouth_mask0_0_1)">
          <path
            d="M216.5 311C213 312 211 318.5 213 321C215.209 323.761 220 323.5 223 321.5C225.144 320.071 225.5 317 224.5 315C223 312 219.541 310.131 216.5 311Z"
            fill="#DD4466"
          />
        </g>
      </>
    ),
  };

  const getMouth = (mouths: TFace["mouth"]["shape"]) => {
    const maxShape = Object.keys(mouths).reduce(
      (
        acc,
        key //@ts-ignore
      ) => (mouths[acc] > mouths[key] ? acc : key)
    );
    console.log(props.mouthShape);
    // @ts-ignore
    return mouths[maxShape] > 0.001 ? svg[maxShape] : svg.default;
  };

  return <>{getMouth(props.mouthShape)}</>;
};

export default Mouth;
